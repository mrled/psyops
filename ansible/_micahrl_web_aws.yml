---
- name: Deploy me.micahrl.com/com.micahrl.me static site infrastructure
  hosts: localhost
  connection: local
  become: no
  gather_facts: no
  roles:
    - name: cfn
      cloudformation_stack_name: MicahrlWeb
      cloudformation_template_path: cloudformation/MicahrlWeb.cfn.yml
      cloudformation_aws_region: us-east-1  # ACM certificates for CloudFront must be in us-east-1
      cloudformation_aws_profile: primary-micahrl
      cloudformation_capabilities: ["CAPABILITY_IAM"]
      cloudformation_jinja2_enable: true
      cloudformation_template_params:
        ObverseHostedZoneId: "{{ global_origin_zone_zone_id }}"
        ReverseHostedZoneId: "{{ global_micahrl_me_zone_id }}"
      tags:
        - me.micahrl.com
        - com.micahrl.me
