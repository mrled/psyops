---

# Progfiguration inventory

groupNodeMap:
  kubernasty:
    - jesseta
    - kenasus
    - zalas
    - psyopsos-test-1

# WARNING: Any host not listed in the nodeFunctionMap is not visible and will not be in the 'universal' group.
nodeFunctionMap:
  jesseta: kubernasty
  kenasus: kubernasty
  zalas: kubernasty
  psyopsos-test-1: kubernasty
  newjutland: synergycontroller

functionRoleMap:
  kubernasty:
    - alpine_postboot_config
    - datadisk
    - k3s
  synergycontroller:
    - alpine_postboot_config
    # We need datadisk bc we need Flatpak for Synergy, and Flatpak is too disk hungry for RAM
    - datadisk
    - synergycontroller

nodeSettings:
  # The location for the age key on each node
  # If multiple items are specified here, they are checked in order and the first found is used
  age:
    - /mnt/psyops-secret/mount/age.key

controller:
  # The controller has an age key which can be used to decrypt any secret.
  # When this file is not present, progfiguration will still work,
  # but activities that require the secret key will throw errors.
  age: /secrets/psyops-secrets/progfiguration/controller.age

  # We must hard code the public key in this file as well,
  # so that it is available even when we aren't running on the controller.
  agepub: age18mfpm3htk5dvtygtcajqkcmr8775dy35uykgx5tmfanpmwznyc2qs3smh2
