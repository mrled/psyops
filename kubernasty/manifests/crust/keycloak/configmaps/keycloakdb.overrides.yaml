apiVersion: v1
kind: ConfigMap
metadata:
  name: keycloakdb-value-overrides
  namespace: keycloak
data:
  values.yaml: |-
    global:
      postgresql:
        auth:
          username: dbusername
          # Reads from the .password key on this secret
          existingSecret: keycloakdb-pass
          database: keycloak
    primary:
      extraVolumes:
        - name: keycloakdb-data-vol
          persistentVolumeClaim:
            claimName: keycloakdb-data-claim
      extraVolumeMounts:
        - name: keycloakdb-data-vol
          mountPath: /bitnami/postgresql/data
          readOnly: false
