apiVersion: v1
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: external-dns-helm-chart-value-overrides
  namespace: external-dns
data:
  values.yaml: |-

    # This cluster will require explicitly creating the domain name via the external-dns Custom Resource Definition (CRD).
    # <https://geek-cookbook.funkypenguin.co.nz/kubernetes/external-dns/>
    sources:
      - crd

    # Without this it just doesn't work. ?????/
    # Values for apiversion and kind taken from
    # <https://github.com/kubernetes-sigs/external-dns/blob/master/docs/contributing/crd-source.md#usage>
    crd:
      create: true
      apiversion: externaldns.k8s.io/v1alpha1
      kind: DNSEndpoint

    logLevel: debug

    aws:
      credentials:
        secretName: "external-dns-aws-credential-secret"
      region: "us-east-2"
      # Use generic CNAME records instead of AWS-specific ALIAS records
      preferCNAME: true
